{# Mobile Sidebar / Navigation Drawer #}
{# {{data | json}} #}

<div x-data x-cloak>
  {# Overlay #}
  <div x-show="$store.modal.current === 'sidebar'"
       @click="$store.modal.close()"
       class="overlay"
       x-transition:enter="transition ease-out duration-300"
       x-transition:enter-start="opacity-0"
       x-transition:enter-end="opacity-100"
       x-transition:leave="transition ease-in duration-200"
       x-transition:leave-start="opacity-100"
       x-transition:leave-end="opacity-0">
  </div>

  {# Drawer #}
  <div class="drawer drawer-start custom-scrollbar"
       :class="{ 'open': $store.modal.current === 'sidebar' }">
    {# Header #}
    <div class="flex items-center justify-between p-4 border-b border-gray-100">
      <span class="text-lg font-bold">{{t('blocks.header.menu')}}</span>
      <button @click="$store.modal.close()" class="p-1 hover:bg-gray-100 rounded-full transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>

    {# Menu Items #}
    <nav class="p-4">
      <ul class="space-y-1">
        {% for item in data.menu %}
          <li>
            <a href="{{ item.url | default('#') }}"
               class="flex items-center justify-between py-3 px-2 rounded-lg text-gray-700 hover:bg-gray-50 hover:text-primary transition-colors">
              <span class="font-medium">{{ item.title }}</span>
              {% if item.children | length %}
                <svg class="w-4 h-4 text-gray-400 rtl:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
              {% endif %}
            </a>
          </li>
        {% endfor %}
      </ul>
    </nav>

  </div>
</div>
